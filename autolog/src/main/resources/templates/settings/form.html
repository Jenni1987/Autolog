<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
	<head>
	    <meta charset="UTF-8">
	    <title>AutoLog | Configuraci칩n</title>
	    <link rel="stylesheet" th:href="@{/css/styles.css}">
	</head>
	<body>
	
		<div th:replace="fragments :: headerFragment"></div>
	
		<div class="layout">
	
			<div th:replace="fragments :: sidebarFragment('settings')"></div>
	
			<main class="content">

			    <div class="form-card">
			        <h1>Configuraci칩n de Usuario</h1>

			        <section class="sub-card">
			            <h2>Datos personales</h2>

			            <div th:if="${successProfile}" class="success-message" th:text="${successProfile}"></div>
			            <div th:if="${errorProfile}" class="txt-danger" th:text="${errorProfile}"></div>

			            <form th:action="@{/settings/profile}" th:object="${profileDTO}" method="post">
			                <div class="form-group">
			                    <label>Nombre de usuario</label>
			                    <input type="text" th:field="*{username}" required>
			                    <div class="txt-danger" th:if="${#fields.hasErrors('username')}" th:errors="*{username}"></div>
			                </div>

			                <div class="form-group">
			                    <label>Email</label>
			                    <input type="email" th:field="*{email}" required>
			                    <div class="txt-danger" th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></div>
			                </div>

			                <button type="submit" class="btn btn-new">游 Guardar cambios</button>
			            </form>
			        </section>

			        <section class="sub-card">
			            <h2>Cambiar contrase침a</h2>

			            <div th:if="${error}" class="txt-danger" th:text="${error}"></div>

			            <form th:action="@{/settings/password}" th:object="${passwordDTO}" method="post">
			                <div class="form-group">
			                    <label>Contrase침a actual</label>
			                    <input type="password" th:field="*{oldPassword}" required>
			                    <div class="txt-danger" th:if="${#fields.hasErrors('oldPassword')}" th:errors="*{oldPassword}"></div>
			                </div>

			                <div class="form-group">
			                    <label>Nueva contrase침a</label>
			                    <input type="password" th:field="*{newPassword}" required>
			                    <div class="txt-danger" th:if="${#fields.hasErrors('newPassword')}" th:errors="*{newPassword}"></div>
			                </div>

			                <div class="form-group">
			                    <label>Confirmar nueva contrase침a</label>
			                    <input type="password" th:field="*{confirmPassword}" required>
			                    <div class="txt-danger" th:if="${#fields.hasErrors('confirmPassword')}" th:errors="*{confirmPassword}"></div>
			                </div>

			                <button type="submit" class="btn btn-new">游댏 Cambiar contrase침a</button>
			            </form>
			        </section>

			    </div>

			</main>
			
		</div>
	
	</body>
</html>
